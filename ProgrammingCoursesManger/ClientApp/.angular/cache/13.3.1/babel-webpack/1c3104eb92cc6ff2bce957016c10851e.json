{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\kubaw\\\\source\\\\repos\\\\staz giganci programowania\\\\ProgrammingCoursesManger\\\\ProgrammingCoursesManger\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nlet NewCourseComponent = class NewCourseComponent {\n  constructor(location, coursesService, snackBar) {\n    this.location = location;\n    this.coursesService = coursesService;\n    this.snackBar = snackBar;\n    this.newCourseForm = new FormGroup({\n      name: new FormControl(''),\n      description: new FormControl('')\n    });\n    this.topics = [];\n    this.newTopic = {\n      id: 0,\n      name: undefined,\n      number: 1\n    };\n  }\n\n  addTopic() {\n    if (!this.newTopic.name) {\n      return;\n    }\n\n    this.topics.push({\n      id: 0,\n      name: this.newTopic.name,\n      number: this.newTopic.number\n    });\n    this.topics.sort((a, b) => {\n      var _a, _b;\n\n      if (a.number === b.number) {\n        return ((_a = a.name) !== null && _a !== void 0 ? _a : '') > ((_b = b.name) !== null && _b !== void 0 ? _b : '') ? 1 : -1;\n      }\n\n      return a.number > b.number ? 1 : -1;\n    });\n    this.newTopic = {\n      id: 0,\n      name: undefined,\n      number: 1\n    };\n  }\n\n  onSubmit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.newCourseForm.valid) {\n        var result = yield _this.coursesService.postNewCourse({\n          id: 0,\n          name: _this.newCourseForm.controls.name.value,\n          description: _this.newCourseForm.controls.description.value\n        });\n\n        if (result) {\n          _this.snackBar.open('Poprawnie dodano nowy kurs', 'Zamknij');\n\n          _this.location.back();\n        } else {\n          _this.snackBar.open('Dodawanie nowego kursu się nie powiodło, wystąpił bład po stronie serwera', 'Zamknij');\n        }\n      } else {\n        _this.snackBar.open('Dane nowego kursu są nieprawidłowe', 'Zamknij');\n      }\n    })();\n  }\n\n  goBack() {\n    this.location.back();\n  }\n\n};\nNewCourseComponent = __decorate([Component({\n  templateUrl: './new-course.component.html',\n  styleUrls: ['./new-course.component.css']\n})], NewCourseComponent);\nexport { NewCourseComponent };","map":{"version":3,"sources":["C:/Users/kubaw/source/repos/staz giganci programowania/ProgrammingCoursesManger/ProgrammingCoursesManger/ClientApp/src/app/courses/components/new-course/new-course.component.ts"],"names":["__decorate","Component","FormControl","FormGroup","NewCourseComponent","constructor","location","coursesService","snackBar","newCourseForm","name","description","topics","newTopic","id","undefined","number","addTopic","push","sort","a","b","_a","_b","onSubmit","valid","result","postNewCourse","controls","value","open","back","goBack","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nlet NewCourseComponent = class NewCourseComponent {\r\n    constructor(location, coursesService, snackBar) {\r\n        this.location = location;\r\n        this.coursesService = coursesService;\r\n        this.snackBar = snackBar;\r\n        this.newCourseForm = new FormGroup({\r\n            name: new FormControl(''),\r\n            description: new FormControl(''),\r\n        });\r\n        this.topics = [];\r\n        this.newTopic = { id: 0, name: undefined, number: 1 };\r\n    }\r\n    addTopic() {\r\n        if (!this.newTopic.name) {\r\n            return;\r\n        }\r\n        this.topics.push({\r\n            id: 0,\r\n            name: this.newTopic.name,\r\n            number: this.newTopic.number,\r\n        });\r\n        this.topics.sort((a, b) => {\r\n            var _a, _b;\r\n            if (a.number === b.number) {\r\n                return ((_a = a.name) !== null && _a !== void 0 ? _a : '') > ((_b = b.name) !== null && _b !== void 0 ? _b : '') ? 1 : -1;\r\n            }\r\n            return a.number > b.number ? 1 : -1;\r\n        });\r\n        this.newTopic = { id: 0, name: undefined, number: 1 };\r\n    }\r\n    async onSubmit() {\r\n        if (this.newCourseForm.valid) {\r\n            var result = await this.coursesService.postNewCourse({\r\n                id: 0,\r\n                name: this.newCourseForm.controls.name.value,\r\n                description: this.newCourseForm.controls.description.value,\r\n            });\r\n            if (result) {\r\n                this.snackBar.open('Poprawnie dodano nowy kurs', 'Zamknij');\r\n                this.location.back();\r\n            }\r\n            else {\r\n                this.snackBar.open('Dodawanie nowego kursu się nie powiodło, wystąpił bład po stronie serwera', 'Zamknij');\r\n            }\r\n        }\r\n        else {\r\n            this.snackBar.open('Dane nowego kursu są nieprawidłowe', 'Zamknij');\r\n        }\r\n    }\r\n    goBack() {\r\n        this.location.back();\r\n    }\r\n};\r\nNewCourseComponent = __decorate([\r\n    Component({\r\n        templateUrl: './new-course.component.html',\r\n        styleUrls: ['./new-course.component.css'],\r\n    })\r\n], NewCourseComponent);\r\nexport { NewCourseComponent };\r\n"]},"metadata":{},"sourceType":"module"}